# SPDX-License-Identifier: Apache-2.0
name: DatavizHub CodeQL Configuration
disable-default-queries: false
paths:
  - src
paths-ignore:
  - tests
  - samples
  - docs
  - .devcontainer
  - wiki
  - .venv
  - '**/__pycache__'
  - '**/*.ipynb'

# Narrow filters for noisy queries on vetted, hardened paths
query-filters:
  - exclude:
      id: py/path-injection
      paths:
        - src/zyra/api/routers/jobs.py
        - src/zyra/api/workers/executor.py
        - src/zyra/api/routers/search.py
        # Asset inference uses validated, re-anchored paths under allowlisted bases
        # and O_NOFOLLOW; suppress false positives for this vetted module.
        - src/zyra/api/utils/assets.py
  - exclude:
      id: py/uncontrolled-data-in-path-expression
      paths:
        - src/zyra/api/routers/jobs.py
        - src/zyra/api/workers/executor.py
        - src/zyra/api/routers/search.py
        - src/zyra/api/utils/assets.py
